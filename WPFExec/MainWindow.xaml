<Window x:Class="Mp3Player.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Wave Player" Height="700" Width="1000"
        Background="#0A0A1E"
        WindowStyle="None"
        AllowsTransparency="True"
        Icon="/assets/favicon.ico"
        ResizeMode="CanResize">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="32"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

    <!-- Title Bar -->
        <Grid Grid.Row="0" Background="Transparent" MouseDown="TitleBar_MouseDown">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Style="{StaticResource WindowButton}" Content="─" Click="Minimize_Click"/>
                <Button Style="{StaticResource WindowButton}" Content="□" Click="Maximize_Click"/>
                <Button Style="{StaticResource WindowButton}" Content="×" Click="Close_Click"/>
            </StackPanel>
        </Grid>

        <!-- Main Content -->
        <Grid Grid.Row="1" Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <!-- Назва плеєра з іконкою -->
            <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,0,0,20">
                <TextBlock Text="WAVE PLAYER" Foreground="#00D1FF" FontSize="32" FontWeight="Bold"/>
                <Image Source="/assets/favicon.ico" Width="32" Height="32" Margin="10,0,10,0"/>
            </StackPanel>


            <!-- Playlist -->
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <ListBox Name="TrackList" Grid.Column="0"
                         Style="{StaticResource ModernListBoxStyle}"
                         Background="#12123A" SelectionChanged="TrackList_SelectionChanged"/>

                <StackPanel Grid.Column="1" Margin="10,0,0,0">
                    <Button Content="🗑" Style="{StaticResource PlayerControlButton}" Click="DeleteTrack_Click"/>
                    <Button Content="➕" Style="{StaticResource PlayerControlButton}" Click="AddFiles_Click"/>
                    <Button Content="🔀" Style="{StaticResource PlayerControlButton}" Click="Shuffle_Click"/>
                    <Button Content="🔁" Style="{StaticResource PlayerControlButton}" Click="Repeat_Click"/>
                </StackPanel>
            </Grid>

            <!-- Player Controls -->
            <Border Grid.Row="2" Background="#12123A" CornerRadius="10" Margin="0,20,0,0">
                <Grid Margin="15">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Progress -->
                    <Grid Grid.Row="0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Name="CurrentTime" Grid.Column="0" Foreground="#B0B0FF" Text="0:00"/>
                        <Slider Name="ProgressBar" Grid.Column="1"
                                Style="{StaticResource VolumeSlider}"
                                PreviewMouseDown="ProgressBar_PreviewMouseDown"
                                PreviewMouseUp="ProgressBar_PreviewMouseUp"/>
                        <TextBlock Name="TotalTime" Grid.Column="2" Foreground="#B0B0FF" Text="0:00"/>
                    </Grid>

                    <!-- Controls -->
                    <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10">
                        <Button Content="⏮" Style="{StaticResource PlayerControlButton}" Click="Previous_Click"/>
                        <Button Name="PlayButton" Content="▶" Style="{StaticResource PlayPauseButton}" Click="Play_Click"/>
                        <Button Name="PauseButton" Content="⏸" Style="{StaticResource PlayPauseButton}" Visibility="Collapsed" Click="Pause_Click"/>
                        <Button Content="⏭" Style="{StaticResource PlayerControlButton}" Click="Next_Click"/>
                    </StackPanel>

                    <!-- Volume -->
                    <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center">
                        <TextBlock Text="🔊" Foreground="#B0B0FF"/>
                        <Slider x:Name="VolumeSlider" Width="200"
                                Style="{StaticResource VolumeSlider}"
                                Value="0.5" Maximum="1" ValueChanged="VolumeSlider_ValueChanged"/>
                    </StackPanel>
                </Grid>
            </Border>

            <MediaElement Name="MediaPlayer" LoadedBehavior="Manual" MediaEnded="MediaPlayer_MediaEnded"/>
        </Grid>
    </Grid>
</Window>
